(rule
  (target generator_fstrings.py)
  (deps generator.py)
  (action (with-stdout-to generator_fstrings.py (run sh -c "if python3 -c 'f\"\"' 2>/dev/null; then :; else echo '# -*- coding: future_fstrings -*-'; fi; cat generator.py")))
)

(rule
  (target generated_fold.ml)
  (deps generator_fstrings.py)
  (action (with-stdout-to generated_fold.ml (run python3 ./generator_fstrings.py)))
  (mode (promote (until-clean)))
)
; (library
;   (name adt_generator)
;   (public_name ligo.adt_generator)
;   (libraries
;   )
; )

(executable
  (name adt_generator)
  (public_name ligo.adt_generator)
  (libraries
  )
)

(alias
  (name runtest)
  (action (run ./adt_generator.exe))
)
