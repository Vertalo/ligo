(library 
  (name cli_helpers)
  (libraries
    simple-utils
    main)
  (modules cli_helpers)
  (preprocess
    (pps ppx_let)
  )
  (flags (:standard -open Simple_utils))
)

(executable
  (name cli)
  (public_name ligo)
  (libraries
    simple-utils
    cmdliner
    cli_helpers
    ligo
  )
  (package ligo)
  (preprocess
    (pps ppx_let)
  )
  (modules cli)
  (flags (:standard -open Simple_utils))
)

(executable
  (name cli-js)
  (public_name ligo-js)
  (libraries
    simple-utils
    cmdliner
    cli_helpers
    ligo-compile
  )
  (package ligo-compile)
  (preprocess
    (pps ppx_let)
  )
  (modules cli-js)
  (flags (:standard -open Simple_utils))
)
